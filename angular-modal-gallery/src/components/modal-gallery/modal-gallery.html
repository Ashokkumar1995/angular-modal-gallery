<ks-gallery [images]="images" [showGallery]="showGallery" (show)="onShowModalGallery($event)"></ks-gallery>

<ks-background [isOpen]="opened"
               [accessibilityConfig]="accessibilityConfig"></ks-background>

<div id="modal-gallery-wrapper" *ngIf="opened"
     ksScrollStop [enable]="true"
     [attr.aria-label]="accessibilityConfig.modalGalleryContentAriaLabel"
     [title]="accessibilityConfig.modalGalleryContentTitle"
     click-outside [clickOutsideEnable]="enableCloseOutside"
     (clickOutside)="onClickOutside($event)">

  <div id="flex-min-height-ie-fix">
    <div id="modal-gallery-container">

      <ks-upper-buttons [currentImage]="currentImage"
                        [buttonsConfig]="buttonsConfig"
                        (refresh)="onRefresh($event)"
                        (delete)="onDelete($event)"
                        (navigate)="onNavigate($event)"
                        (download)="onDownload($event)"
                        (close)="onCloseGallery($event)"
                        (customEmit)="onCustomEmit($event)"></ks-upper-buttons>

      <ks-current-image [images]="images"
                        [currentImage]="currentImage"
                        [isOpen]="opened"
                        [slideConfig]="slideConfig"
                        [descriptionConfig]="description"
                        [keyboardConfig]="keyboardConfig"
                        [loadingConfig]="loadingConfig"
                        [accessibilityConfig]="accessibilityConfig"
                        (loadImage)="onImageLoad($event)"
                        (changeImage)="onChangeCurrentImage($event)"
                        (close)="onCloseGallery($event)"></ks-current-image>

      <ks-dots [images]="images"
               [currentImage]="currentImage"
               [isOpen]="opened"
               [dotsConfig]="dotsConfig"
               [accessibilityConfig]="accessibilityConfig"
               (clickDot)="onClickDot($event)"></ks-dots>

      <ks-previews [images]="images"
                   [currentImage]="currentImage"
                   [isOpen]="opened"
                   [previewConfig]="previewConfig"
                   [accessibilityConfig]="accessibilityConfig"
                   (clickPreview)="onClickPreview($event)"></ks-previews>

    </div>
  </div>
</div>
